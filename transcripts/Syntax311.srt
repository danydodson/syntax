1
00:00:00,359 --> 00:00:24,480
Announcer: Monday, Monday, Monday Open wide. Get ready to stuff your face with JavaScript CSS loadmodule BBQ Tip Get workflow breakdancing soft skill web development hasty as crazy as tasty as web development treats coming in hot here is when Sarah Kuta boss and Scott L. Totally ski.

2
00:00:25,950 --> 00:01:10,500
Scott Tolinski: Oh, welcome to syntax. In this Monday hasty treat. We are going to be talking about bots, and specifically around the whole PlayStation five buying debacle where people have been trying to buy a PlayStation five and unable to because bots, dang these bots, it's gonna be a good one here. And I'm really excited to talk to you about my strategy, which I've listed as Scott strategy. It's very good. My name is Scott Tolinksi. I'm a web developer from keep on. I almost said I'm a level up developer from level up tutorials. And then I almost said I'm a web developer from level up stars. I'm a web developer from Denver, Colorado. My name is Scott Tolinksi. Yes, I am killing this intro. And with me, as always is a West boss.

3
00:01:10,530 --> 00:01:12,840
Unknown: Hey, everybody, hey, with

4
00:01:12,840 --> 00:05:06,450
Scott Tolinski: this episode is sponsored by one of our favorite sponsors over here as syntax and that's Log Rocket to now Log Rocket. I don't know if you've caught on to this. But all of our sponsors, our favorite sponsors, in case you're wondering, Log Rocket at Log rocket.com is a really neat service. And this is actually kind of a funny thing that I wanted to bring up. On a side note here. There's been so many times that I've googled something and the Log Rocket blog has come up. So they've done a really nice job about writing really good little blog posts here on all sorts of interesting topics. And I'm always very impressed when, when that happens. It's like oh, I google something in a service and company that I use is thinking about the same things that I am. So Log Rocket at Log rocket.com is the perfect place to see how your errors and exceptions happen in the same type of real time that they happen for the client. They give you a scrubbable video replay of the scene of the crime imagine that happening? Who Stole the cookie from the cookie jar? That is not a question you have to get that anymore because you can see who stole the cookies from the cookie jar. And I'm guessing as my daughter because she's really getting in that pantry right now. She's opening the pantry door and just reaching in and grabbing all that food for herself. So Log Rocket at Log rocket.com gives you a session replay of the errors, bugs and exceptions happening in real time works with all the stuff you know and love. So check it out at Log rocket.com. Okay, so this is the 300 and 11th episode, and I'm really excited. I'm a little all mixed up. But I am down to do some of these. I'm trying to do 311 Lyrics here. Bear with me. So let's talk about our strategies for creating a bot. Let's say we wanted a PlayStation five, right? Here's a scenario I really want to PlayStation five. But Ooh, these dang bots are clicking on them. How do we fight back with my own bots? That's gonna be a bot on bot war here. So let's go into Scott strategy. First. Here's my strategy. And I just want to say that out of the two of us here, I'm the only one with a PS five right now. So I think my strategy is the one to go with. I'm just gonna say that. So here's Scott's strategy is, well, I don't know how to do bots, because I've never made a bot for anything in my entire life. So I'm going to go to PS five.reddit.com. And I'm going to refresh the page on the day that pre orders go live. And then I'm going to find the the first link from amazon.com. And I'm going to click it and I'm going to click go as fast as possible and get a pre order. because let me tell you, pre ordering is definitely the way to go in these scenarios. Now unfortunately, we are long past the time in which pre ordering would have been even possible. Now the bummer here is that so many of these services and these crappy things like Walmart's online presence, right? Walmart wants to play with the big boys, but their online site allows people to Kota bots to to buy these things. Now, what I'm going to do is I'm going to stay far away from any site that has a checkout process that can be manipulated with a bot easily. I would say that because I'm sure most things can probably be bought with a bot somewhere else. But like for instance, I don't think Amazon is that easy to buy with the bottom. I don't think it's as easy. I think they're they're a little bit more sophisticated than that. And that's just my strategy. I'm going to go somewhere that doesn't have bots, and I'm going to refresh. I'm going to hit a link and I'm not just going to do it blindly. And that's what I'm going to do. Because to be honest, if I tried to code a bot like this, I would probably end up buying 15 psi, because I just have no idea what I'm doing in this regard. Okay, so what's the strategy probably might be a little bit more interesting as far as this podcast goes, because you actually have a lot of experience with this. I recently got a rower off of Craigslist. And people were like, Oh, cool. Can you share the code that you wrote to do the bot to like, alert you when they became available? And I was like, Well, I I download the Craigslist app and then I click send me messages when this word is found. The Yeah, I just idea. I have not done this kind of thing. So let's let's hear it let's let's hear your your strategy. Yeah,

5
00:05:06,510 --> 00:10:54,480
Wes Bos: I've talked before where I wrote like a Craigslist Kijiji Facebook marketplace app that would scrape every three minutes. And then alert me when things popped up just because like, that's how you get the competitive advantage there. Obviously these apps have built in notify me. But then by the time they notify you It's way too late because they only they run it like once a day or twice a day or something like that. So how would I do that? This was asked on Twitter, by the way by baja magician. And he says, We need a podcast on how to use JavaScript to track websites to send a text message or email as soon as the PS five is available for purchase so that he'll be fun to build. How would I go about that? Well, first of all, before I even get any any of this, somebody built a very similar website, called Mick broken calm. And what he did is he tried to add a ice cream to his cart for every McDonald's in North America, every minute. And by doing that, he's able to see if the ice cream machine is broken, because they say sorry, not available, or if it's working. And then he has a map of the entire North America, or even Europe to telling you if the ice cream machine is currently broken or not, which is hilarious. And this was a wild situation is like the same approach. Maybe we should have this guy on the podcast. Yeah, we should try this guy in the podcast, because this is my favorite kind of web development. Yeah. So how would I do it? Well, first of all, you need a way to find out if there is any stock. And there are one of two ways you can do it. First way I try is all visit a website. And I'll open up dev tools, I'll go to the Network tab and click on x HR, and then refresh the page. And you will monitor what x HR requests are being fired off. And often they will be firing off a request to an endpoint like a product endpoint. And that will return if anything is available or not. So I just went to bestbuy.ca. clicked on PS five, open up dev tools. And I found they have an endpoint bestbuy.ca for slash eat calm API forward slash availability for slash products. And then they pass an argument to the product ID. So that's how they do it. If they don't have that, if it's all server rendered, which more and more, this is all done on the client side or at least refreshed on the client side. So they usually have an API. But if not, you just have to fetch the entire HTML, you can use a fetch function, like a lot of people don't know this, but you can fetch literally anything, including a website. And then instead of using JSON, you just use dot txt, and that will just give you a payload. That's the easiest way to scrape a website, you have to do it on on the node command. Because of course issues though, then you can either regex it. So like if they, you could like look for the word unavailable or available or in stock, you could just regex it and find that value pretty easily, a little bit further, you could use a node package called Cheerio, which is kind of like jQuery for URLs. So it doesn't have like any dependencies that are needed. And it works pretty good. It's a little bit clunky to use, but it works pretty good. The sort of the best way is to use puppeteer, which is it's using a headless Chrome browser, and it actually fires up chrome and visits the website, and you can click on things and whatnot. And that's the closest to actually visiting a website. And it's a little bit slower. But if you're, if you're running this every 1015 minutes, it doesn't matter. From there, save your data and the database for this type of thing. I like using text based databases, because then there's no overhead. So low DB is a good one. And it just uses JSON files as your database. SQL lite is another really good one that's actually a full blown database solution. But it's still saves to txt files. If you're throwing this into a serverless function, throw it in something like Dynamo DB would probably be good Dynamo. What am I saying? Every time Dynamo, Dynamo, Dynamo DB dynamite. Dynamo. So just something and these are the types of projects where go and try that weird database solution you've never tried before. Because it's fun to fund the learn on something like this, which is low stakes, then you need like a cron job. So you need to rerun this scrape every so often. And you can I would probably ideally, you run this on your computer, because then your IP address is one that they possibly know about. Because there's a lot these companies are doing to block this type of activity because it's it's unfair, right? It's unfair to people who just want to buy a PlayStation and there's all these resellers trying to buy them all up, which is frustrating and ruins the whole experience. So I would do that. And that's cool because the guy who asked this question didn't say how do I use a bot to buy it? He said how do I use make a bot to just let me know when one is available? So I'm not spending my entire day refreshing, 14 different websites, then when there is a match when there is one in stock, then you send a text message, I would use Twilio for that send an email, I would probably use postmark for that. And then you could even go one step further and try to submit the form. But most websites worth their salt are gonna throw some sort of caption in there. If they put google recaptcha in there or ask you to add five plus five, then your bot will probably fall over. Because you can't script past that. That's how most bots are stopped these days, you have to throw a reCAPTCHA in there. And Google will also detect if you are a bot based on stuff we do. They won't tell us most movement, things like that. Someone told me the other day, Scott kept hitting recaptures because you use a VPN? Yeah, someone said that if you move your mouse a lot, it will trigger less often, which I don't know if that's true or not.

6
00:10:55,860 --> 00:11:18,870
Scott Tolinski: True. tried it? And I feel like yeah, it might have actually. So like, I was getting some fails on ones that I felt like should have passed. And then I was like, okay, screw it. This time, I'm gonna move my mouse around, and I just started moving. And then it passed. And I honestly have no idea if like, you know, I just got lucky that particular time, because who knows? But it worked the one time I actually tried it. But that's it. Yeah.

7
00:11:20,610 --> 00:12:30,690
Wes Bos: Oh, man. So you could you could script the mouse moving a whole bunch. I don't know if that's possible or not. But maybe you could build a physical robot that moved your mouse and jiggle it around. Yeah, a random amount. Couple last things, here are things that could get in your way, you could get your IP address blocked, that's most common, you could get a CAPTCHA or CloudFlare, which throws up just a temporary pause in the way that will stop you. So that's something to think about as well. Other ways is you can often these API endpoints won't work directly, but they'll only work if you're signed in or if you have all of the cookies. So you can also if Firefox and Chrome dev tools you can like right click Copy as fetch. And it will copy every single header that got sent along with the request. And more often than not somewhere in those headers is there's a couple like session IDs and things like that, that will come along for the ride and ensure that it's a valid request. So that's how I would do it. At the very core of it. It's just downloading HTML, checking if there is value, and then I would probably send off a text message so that I could quickly hop on my phone and and trying to buy the thing.

8
00:12:30,840 --> 00:12:41,340
Scott Tolinski: Yeah, that's a really smart Yeah, that's really smart. I'm sure these companies love have been bots, it their servers, all the time. Whatever, what can you do,

9
00:12:41,400 --> 00:13:20,820
Wes Bos: it's both frustrating from like the user point of view that you can't buy this thing was also frustrating, like the developers behind this website. Now, like, in addition to have it trying to sell this thing and help manage stock where 500 people are trying to buy one product at one time. Yeah. Because like, Look, what happens if you charge a credit card within 12 milliseconds of them like who gets it right like then you gotta check if the product is still there. When you refresh. I would like to have somebody on who does e commerce for a big drops like this, whether that's like like Nike or something like that. They do these huge drops like what is their .TECH actually look like in order to handle all that?

10
00:13:20,849 --> 00:13:34,740
Scott Tolinski: Yeah, I definitely agree with that. Just as long as they're not one of the they didn't work for Kohl's Did you hear about Kohl's? Unfortunately, I think they sold a whole bunch that they did not have and then like everybody got a bunch of big cancel alerts. That's a huge bummer. Bummer. Bummer.

11
00:13:34,979 --> 00:13:36,300
Wes Bos: for the PlayStation five.

12
00:13:36,329 --> 00:13:36,900
Unknown: Yeah,

13
00:13:36,900 --> 00:13:45,930
Scott Tolinski: I think it was just Oh, Joel's yesterday because I have follow along to some of this stuff still, and it was honestly These are big problems that seem very difficult to solve. If you're asking me

14
00:13:46,079 --> 00:14:02,010
Wes Bos: back in my day, all you had to do is wake up at 3am and camp outside the Walmart or Zellers is where I went when I was a kid. We have this Canadian we used to have this Canadian Walmart called Zellers. for PlayStation two, I camped out in front for four or five hours and you just got to buy one.

15
00:14:02,280 --> 00:14:35,880
Scott Tolinski: Oh, here's what my mom did for PlayStation two, because there was a surprise for Christmas for us. My brother worked in the stockroom at Target. And he got a little hot tip. They were never supposed to be bound to some sort of non talking about these Hot Tips in the stock room. But my mom showed up and one of us was one of the first like 20 people on that specific day and they were she like she had gotten there. I forget if she was like one of the first people online or something but they were just like, how could you know because it was like a rainy day. I just had a feeling you know, just check in. Just check in. So yeah,

16
00:14:35,910 --> 00:14:59,970
Wes Bos: there's also a website stock track.ca which will allow you to put in a skew of a product for Canadian Tire Walmart Best Buy, it will do this thing that we talked about. It will check if there is in store stock for 50 of the closest stores is if you're willing to drive an hour maybe there's five or six different stores within one or two hour drive. Either way.

17
00:15:00,000 --> 00:15:26,190
Scott Tolinski: That's how I got both my Nintendo Wii back in the day. I was like, well we find calm are one of those type of things and it told me when they're going to be there and I just shut up early. And then another one I got my Oculus quest from this like random city in North Central Colorado that was just like, you know, middle of sort of nowhere, but they had a Best Buy and that Best Buy they had like one in stock and I drove a couple hours up there to get it. It's like, okay, you never know.

18
00:15:26,490 --> 00:15:37,380
Wes Bos: Wow, that's amazing. I I did that with the Wii Fit? I was trying to get one, though. And, yeah, I just manually refresh the Best Buy website because I had nothing better do my time. Yep.

19
00:15:38,460 --> 00:15:38,970
Unknown: Yep.

20
00:15:40,020 --> 00:15:57,690
Wes Bos: All right strategy. If you have built anything similar, I always like hearing the stories of people that automated their way into fixing a problem that they have sweetest at syntax FM. I'd love to hear those stories. Yeah, likewise. Alright. Thanks for tuning in. And we will catch you on Wednesday, please.

21
00:15:59,970 --> 00:16:09,750
Scott Tolinski: Head on over to syntax.fm for a full archive of all of our shows. And don't forget to subscribe in your podcast player or drop a review if you like this show.

